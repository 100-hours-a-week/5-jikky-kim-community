<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta property="og:title" content="User Information Update" />
        <meta property="og:description" content="회원 정보 수정 페이지" />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>update</title>
        <link
            rel="preload"
            href="https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff"
            as="font"
            type="font/woff"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="./style/user-update.css" />
        <link rel="stylesheet" href="./style/index.css" />
    </head>
    <body>
        <header>
            <div id="header-flex">
                <div id="back-icon"><a href="login.html"><</a></div>
                <div id="header-text">아무 말 대잔치</div>
                <div class="dropdown">
                    <img src="./img/avatar.jpg" id="profile-btn" class="header-profile drop-btn" />
                    <nav id="user-nav" class="dropdown-content">
                        <a href="./user-update.html"> 회원정보 수정 </a>
                        <a href="#"> 비밀번호 수정 </a>
                        <a href="./login.html"> 로그아웃 </a>
                    </nav>
                </div>
            </div>
        </header>
        <section>
            <div id="update-text">회원정보수정</div>
            <div id="update-box">
                <form>
                    <div class="update-label">프로필 사진*</div>

                    <div class="image-box">
                        <label id="image-input" for="profile">
                            <img id="avatar" src="./img/avatar.jpg" />
                            <button id="change-profile-btn">변경</button>
                        </label>
                    </div>

                    <div class="image-box">
                        <img id="preview" />
                    </div>

                    <input type="file" id="profile" onchange="readURL(this);" />
                    <div class="update-label">이메일*</div>
                    <div class="email">kok5417@skuniv.ac.kr</div>

                    <div class="update-label">닉네임*</div>
                    <input type="text" placeholder="닉네임을 입력하세요." value="지키" />
                    <div class="helper-text">* helper text</div>
                    <button type="submit">수정하기</button>
                    <div id="user-wd-btn" href="#">회원 탈퇴</div>
                    <a href="./board.html" id="finish"><button>수정완료</button></a>
                </form>
                <div id="wd-modal">
                    <div class="wd-modal-body">
                        <div class="modal-title">회원탈퇴 하시겠습니까?</div>
                        <div class="modal-message">작성된 게시글과 댓글은 삭제됩니다.</div>
                        <div class="modal-sel-btn">
                            <button id="wd-x" class="btn-cancel">취소</button>
                            <button id="wd-o" class="btn-ok">확인</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script>
            // user menu
            userNav = document.getElementById('user-nav');
            profileBtn = document.getElementById('profile-btn');
            profileBtn.addEventListener('click', () => {
                if (userNav.style.display == 'flex') {
                    userNav.style.display = 'none';
                } else {
                    userNav.style.display = 'flex';
                }
            });

            // profile
            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();
                    reader.onload = function (e) {
                        document.getElementById('preview').src = e.target.result;
                    };
                    reader.readAsDataURL(input.files[0]);
                    document.getElementById('image-input').style.display = 'none';
                    document.getElementById('preview').style.display = 'block';
                } else {
                    document.getElementById('preview').src = '';
                }
            }

            // modal
            const body = document.querySelector('body');
            const modal = document.querySelector('#wd-modal');
            const wdModalBtn = document.querySelector('#user-wd-btn');
            wdModalBtn.addEventListener('click', () => {
                modal.style.display = 'flex';
            });

            const wdModalXBtn = document.querySelector('#wd-x');
            wdModalXBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });
            const wdModalOBtn = document.querySelector('#wd-o');
            wdModalOBtn.addEventListener('click', () => {
                modal.style.display = 'none';
            });
        </script>
    </body>
</html>
